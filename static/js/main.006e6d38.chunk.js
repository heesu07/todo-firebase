(this["webpackJsonptodo-firebase"]=this["webpackJsonptodo-firebase"]||[]).push([[0],{38:function(e,t,n){},40:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(13),a=n.n(c),s=n(31),o=n.n(s),r=(n(38),n(16)),i=n(0),u=n.n(i),l=n(1),d=n(10),j=(n(40),n(9)),b=function(e){return Object(j.jsx)("div",{className:"todoContainer",children:Object(j.jsxs)("div",{className:"todoItem",children:[Object(j.jsx)("input",{autoFocus:!0,required:!0,value:e.inputvalue,onChange:e.onChangeHandler,placeholder:"Input Task"}),Object(j.jsx)("button",{className:"addButton",onClick:e.onClickHandler,children:" Add "})]})})},O=function(e){return console.log("List ".concat(e.items)),Object(j.jsx)("div",{className:"todoContainer",children:e.items.map((function(t){return Object(j.jsxs)("div",{className:"todoItem",children:[Object(j.jsxs)("p",{children:[" ",t.todo," "]}),Object(j.jsx)("button",{className:"deleteButton",onClick:function(){return e.deleteHandler(t.id)},children:" Done "})]},t.id)}))})},h=n(32),f=n(18);Object(h.a)({apiKey:"AIzaSyCTfMu-PVTq6qZ8E3U8b8LsNczTIwaTwXM",authDomain:"todo-e8c5f.firebaseapp.com",projectId:"todo-e8c5f",storageBucket:"todo-e8c5f.appspot.com",messagingSenderId:"823710539640",appId:"1:823710539640:web:2c7ca3f2a8cd4a85d7b28d"});var p=Object(f.f)(),m=n(20),g=function(e){var t=e.email,n=e.setEmail,c=e.password,a=e.setPassword,s=e.handleLogin,o=e.handleSignup,r=e.hasAccount,i=e.setHasAccount,u=e.emailError,l=e.passwordError;return Object(j.jsx)("section",{className:"login",children:Object(j.jsxs)("div",{className:"loginContainer",children:[Object(j.jsx)("label",{children:" Username "}),Object(j.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return n(e.target.value)}}),Object(j.jsxs)("p",{className:"errorMsg",children:[" ",u," "]}),Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",required:!0,value:c,onChange:function(e){return a(e.target.value)}}),Object(j.jsxs)("p",{className:"errorMsg",children:[" ",l," "]}),Object(j.jsx)("div",{className:"btnContainer",children:r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"loginButton",onClick:o,children:"Sign up"}),Object(j.jsxs)("p",{children:["Have an account ? ",Object(j.jsx)("span",{onClick:function(){return i(!r)},children:"Sign in"})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"loginButton",onClick:s,children:"Sign in"}),Object(j.jsxs)("p",{children:["Don't have an account ? ",Object(j.jsx)("span",{onClick:function(){return i(!r)},children:"Sign up"})]})]})})]})})},x=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)(""),i=Object(d.a)(o,2),h=i[0],x=i[1],v=Object(c.useState)(""),w=Object(d.a)(v,2),C=w[0],k=w[1],S=Object(c.useState)(""),N=Object(d.a)(S,2),E=N[0],y=N[1],I=Object(c.useState)(""),H=Object(d.a)(I,2),D=H[0],F=H[1],A=Object(c.useState)(!1),B=Object(d.a)(A,2),L=B[0],T=B[1],P=Object(c.useState)([]),q=Object(d.a)(P,2),M=q[0],z=q[1],J=Object(c.useState)(""),U=Object(d.a)(J,2),K=U[0],V=U[1],W=Object(c.useState)(!1),X=Object(d.a)(W,2),Z=(X[0],X[1]),G=function(){y(""),F("")},Q=function(){var e=Object(m.b)();Object(m.c)(e,(function(e){e?(x(""),k(""),s(e)):s("")}))};Object(c.useEffect)((function(){Q()}),[]);var R=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a.email),""!==a){e.next=3;break}return e.abrupt("return");case 3:return t=[],e.next=6,Object(f.e)(Object(f.b)(p,a.email)).then((function(e){console.log(e),e.forEach((function(e){t.push({id:e.id,todo:e.data().todo})})),z(t),Z(!0),console.log("getAllData success!!"),console.log(t)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)(Object(f.d)(p,a.email,t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.a)(Object(f.b)(p,a.email),{todo:t}).then((function(e){var t=[].concat(Object(r.a)(M),[{id:e.id,todo:K}]);z(t),V(""),console.log("Document written with (".concat(e.id," : ").concat(K,")"))}));case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){R(),console.log("Data loaded -useEffect")}),[a]);return Object(j.jsx)("div",{className:"container",children:a?Object(j.jsx)("div",{children:Object(j.jsxs)("section",{className:"hero",children:[Object(j.jsxs)("nav",{children:[Object(j.jsx)("h2",{children:" Welcome "}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h4",{children:[" ",a.email," "]}),Object(j.jsx)("button",{onClick:function(){var e=Object(m.b)();Object(m.e)(e)},children:"Logout"})]})]}),Object(j.jsx)(b,{inputvalue:K,onChangeHandler:function(e){V(e.target.value)},onClickHandler:function(e){e.preventDefault(),$(K)}}),Object(j.jsx)(O,{items:M,deleteHandler:function(e){Y(e).then((function(){var t=M.filter((function(t){return t.id!==e}));z(t),console.log("delete id:".concat(e,"!!"))}))}})]})}):Object(j.jsx)(g,{email:h,setEmail:x,password:C,setPassword:k,handleLogin:function(){G(),console.log("try login");var e=Object(m.b)();Object(m.d)(e,h,C).then((function(e){s(e.user),Object(f.g)(p,e.user.email),console.log(e.user.email)})).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":y(e.message);break;case"auth/wrong-password":F(e.message)}}))},handleSignup:function(){G(),console.log("try sign up");var e=Object(m.b)();Object(m.a)(e,h,C).then((function(e){s(e.user),Object(f.g)(p,e.user.email),console.log(e.user.email)})).catch((function(e){switch(e.code){case"auth/email-alread-in-use":case"auth/invalid-email":y(e.message);break;case"auth/weak-password":F(e.message)}}))},hasAccount:L,setHasAccount:T,emailError:E,passwordError:D})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),v()}},[[43,1,2]]]);
//# sourceMappingURL=main.006e6d38.chunk.js.map