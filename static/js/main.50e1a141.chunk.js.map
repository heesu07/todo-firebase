{"version":3,"sources":["firebase.js","TaskAdd.js","List.js","Login.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","TaskAdd","props","inputvalue","setInputValue","onChangeHandler","onClickHandler","className","autoFocus","required","value","onChange","placeholder","type","onClick","e","preventDefault","List","items","deleteTodo","map","item","todo","id","Login","useState","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","user","setUser","useEffect","auth","onAuthStateChanged","console","log","clearErrors","target","createUserWithEmailAndPassword","then","userCredential","catch","err","code","message","signInWithEmailAndPassword","ref","App","setItems","collection","getTodos","a","onSnapshot","querySnapshot","forEach","doc","push","data","signOut","add","delete","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50e1a141.chunk.js","sourcesContent":["// v8\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCTfMu-PVTq6qZ8E3U8b8LsNczTIwaTwXM\",\r\n  authDomain: \"todo-e8c5f.firebaseapp.com\",\r\n  projectId: \"todo-e8c5f\",\r\n  storageBucket: \"todo-e8c5f.appspot.com\",\r\n  messagingSenderId: \"823710539640\",\r\n  appId: \"1:823710539640:web:2c7ca3f2a8cd4a85d7b28d\"\r\n};\r\n\r\n// v8\r\nfirebase.initializeApp(firebaseConfig);\r\nconst db = firebase.firestore();\r\nexport  { db };\r\nexport default firebase;\r\n\r\n","import React from 'react';\r\n\r\nconst TaskAdd = (props) => {\r\n  const { inputvalue, setInputValue, onChangeHandler, onClickHandler } = props;\r\n  \r\n  const onFormSubmit = e => {\r\n    e.preventDefault();\r\n    onClickHandler();\r\n    setInputValue('');\r\n  }\r\n  return(    \r\n    <div className=\"todoContainer\" >\r\n      <div className=\"todoItem\">\r\n        <input autoFocus required value={inputvalue}  onChange={onChangeHandler} placeholder=\"New\"></input>\r\n        <button type=\"submit\" className=\"addButton\"  onClick={onFormSubmit}> Add </button>\r\n      </div>\r\n    </div>    \r\n  )\r\n}\r\n\r\nexport default TaskAdd;","import React from 'react';\r\n\r\nconst List = (props) => {\r\n  const { items, deleteTodo } = props; \r\n  return(\r\n    <div className=\"todoContainer\">      \r\n      {\r\n        items.map((item) => {\r\n          return (\r\n            <div className=\"todoItem\" key={item.id} >              \r\n              <p > {item.todo} </p>              \r\n              <button className=\"deleteButton\" onClick={()=> deleteTodo(item)} > Done </button>\r\n            </div>\r\n          );\r\n        })\r\n      }     \r\n    </div>\r\n    \r\n  )\r\n}\r\nexport default List;","import React, { useEffect, useState } from 'react';\r\nimport firebase from './firebase';\r\n\r\nconst Login = (props) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n  const [hasAccount, setHasAccount] = useState(false);\r\n\r\n  const { user, setUser } = props;\r\n\r\n  \r\n  const handleLogin = () => {\r\n    clearErrors();\r\n    console.log(\"try login\");\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(userCredential => {\r\n        setUser(userCredential.user);\r\n        console.log(`Login :${userCredential.user.email}`);\r\n      })\r\n      .catch(err => {\r\n        switch (err.code) {\r\n          case \"auth/invalid-email\":\r\n          case \"auth/user-disabled\":\r\n          case \"auth/user-not-found\":\r\n            setEmailError(err.message);\r\n            break;\r\n          case \"auth/wrong-password\":\r\n            setPasswordError(err.message);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      });\r\n  };\r\n\r\n  const handleSignup = () => {\r\n    clearErrors();\r\n    console.log(\"try sign up\");\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(userCredential => {\r\n        setUser(userCredential.user);\r\n        console.log(console.log(`Login :${userCredential.user.email}`));\r\n      })\r\n      .catch(err => {\r\n        switch (err.code) {\r\n          case \"auth/email-alread-in-use\":\r\n          case \"auth/invalid-email\":\r\n            setEmailError(err.message);\r\n            break;\r\n          case \"auth/weak-password\":\r\n            setPasswordError(err.message);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      });\r\n  };\r\n\r\n  const authListener = () => {\r\n    firebase.auth().onAuthStateChanged(user => {\r\n      if (user) {        \r\n        setUser(user);\r\n        console.log('authListener');\r\n      } else {\r\n        setUser(\"\");\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    authListener();\r\n  }, [user]);\r\n\r\n  const clearInputs = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n  \r\n  const clearErrors = () => {\r\n    setEmailError('');\r\n    setPasswordError('');\r\n  };\r\n\r\n  return (\r\n    <section className='login'>\r\n      <div className=\"loginContainer\">\r\n        <label > Username </label>\r\n        <input type=\"text\" autoFocus required value={email} onChange={e => setEmail(e.target.value)} />\r\n        <p className=\"errorMsg\"> {emailError} </p>\r\n        <label >Password</label>\r\n        <input type=\"password\" required value={password} onChange={e => setPassword(e.target.value)} />\r\n        <p className=\"errorMsg\"> {passwordError} </p>\r\n        <div className=\"btnContainer\">\r\n          {!hasAccount ? (\r\n            <>\r\n              <button className=\"loginButton\" onClick={handleLogin}>Sign in</button>\r\n              <p>Don't have an account ? <span onClick={() => setHasAccount(!hasAccount)}>Sign up</span></p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <button className=\"loginButton\" onClick={handleSignup}>Sign up</button>\r\n              <p>Have an account ? <span onClick={() => setHasAccount(!hasAccount)}>Sign in</span></p>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n    </section >\r\n  )\r\n}\r\n\r\nexport default Login;","import './App.css';\nimport React, { useEffect, useState } from 'react';\nimport firebase from './firebase';\nimport TaskAdd from './TaskAdd';\nimport List from './List';\nimport Login from './Login';\n\nlet ref = null; // firestore snapshot\n\nconst App = () => {\n  const [user, setUser] = useState(\"\");\n  const [items, setItems] = useState([]);\n  const [inputvalue, setInputValue] = useState('');\n\n\n  if (user) {\n    ref = firebase.firestore().collection(user.email)\n  }\n\n  // Get\n  const getTodos = async () => {\n    if (user === \"\") {\n      console.log(`user: ${user.email} ref: ${ref}`);\n      return;\n    }\n    ref.onSnapshot((querySnapshot) => {\n      const items = [];\n      querySnapshot.forEach((doc) => {\n        items.push({ id: doc.id, todo: doc.data().todo });\n      });\n      setItems(items);\n    });\n  };\n\n  // Delete\n  const deleteTodo = (item) => {\n    console.log(`deleteTodo: ${item.id}`);\n    ref\n      .doc(item.id)\n      .delete()\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  // Add\n  const addTodo = (todo) => {\n    console.log(`addTodo: ${ref}`);\n    ref\n      .add({ todo: todo })\n      .then(doc => {\n        item.push({ id: doc.id, todo: todo });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  // Update\n  const updateTodo = (todo) => {\n    console.log(`updateTodo: ${todo}`);\n    ref.doc(todo.id)\n      .update(todo)\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    getTodos();\n  }, []);\n\n  const handleLogout = () => {\n    firebase.auth().signOut();\n    setUser(\"\");\n    setItems([]);\n    ref = null;\n    console.log(\"User signout\");\n  };\n\n  return (\n    <div className=\"container\" >\n      {!user ? (\n        <Login\n          user={user}\n          setUser={setUser}\n        />\n      ) : (\n        <div>\n          <section className=\"hero\">\n            <nav>\n              <h2> Welcome </h2>\n              <div>\n                <h4> {user.email} </h4>\n                <button onClick={handleLogout}>Logout</button>\n              </div>\n            </nav>\n            <TaskAdd\n              inputvalue={inputvalue}\n              setInputValue={setInputValue}\n              onChangeHandler={(e) => setInputValue(e.target.value)}\n              onClickHandler={() => addTodo(inputvalue)}\n            />\n            <List\n              items={items}\n              deleteTodo={deleteTodo}\n            />\n          </section>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}