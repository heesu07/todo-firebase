{"version":3,"sources":["TaskAdd.js","List.js","firebase.js","Login.js","App.js","reportWebVitals.js","index.js"],"names":["TaskAdd","props","className","autoFocus","required","value","inputvalue","onChange","onChangeHandler","placeholder","onClick","onClickHandler","List","console","log","items","map","item","todo","deleteHandler","id","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","Login","email","setEmail","password","setPassword","handleLogin","handleSignup","hasAccount","setHasAccount","emailError","passwordError","type","e","target","App","useState","user","setUser","setEmailError","setPasswordError","setItems","setInputValue","setLoaded","clearErrors","authLiistener","auth","getAuth","onAuthStateChanged","useEffect","getAllData","a","getDocs","collection","then","docs","forEach","doc","push","data","deleteData","deleteDoc","addData","addDoc","docRef","newItems","error","signOut","preventDefault","filter","signInWithEmailAndPassword","userCredential","setDoc","catch","err","code","message","createUserWithEmailAndPassword","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.006e6d38.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst TaskAdd = (props) => {\r\n  return(    \r\n    <div className=\"todoContainer\" >\r\n      <div className=\"todoItem\">\r\n        <input autoFocus required value={props.inputvalue}  onChange={props.onChangeHandler} placeholder=\"Input Task\"></input>\r\n        <button className=\"addButton\"  onClick={props.onClickHandler}> Add </button>\r\n      </div>\r\n    </div>    \r\n  )\r\n}\r\n\r\nexport default TaskAdd;","import React from 'react';\r\n\r\nconst List = (props) => {\r\n  console.log(`List ${props.items}`);\r\n  return(\r\n    <div className=\"todoContainer\">      \r\n      {\r\n        props.items.map((item) => {\r\n          return (\r\n            <div className=\"todoItem\" key={item.id} >              \r\n              <p > {item.todo} </p>              \r\n              <button className=\"deleteButton\" onClick={()=> props.deleteHandler(item.id)} > Done </button>\r\n            </div>\r\n          );\r\n        })\r\n      }     \r\n    </div>\r\n    \r\n  )\r\n}\r\nexport default List;","// v8\r\n// import * as firebase from \"firebase/app\";\r\n// import 'firebase/firestore';\r\n\r\n// v9\r\nimport { initializeApp } from \"firebase/app\"\r\nimport { getFirestore } from \"firebase/firestore\"\r\n\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCTfMu-PVTq6qZ8E3U8b8LsNczTIwaTwXM\",\r\n  authDomain: \"todo-e8c5f.firebaseapp.com\",\r\n  projectId: \"todo-e8c5f\",\r\n  storageBucket: \"todo-e8c5f.appspot.com\",\r\n  messagingSenderId: \"823710539640\",\r\n  appId: \"1:823710539640:web:2c7ca3f2a8cd4a85d7b28d\"\r\n};\r\n\r\n// Initialize Firebase\r\ninitializeApp(firebaseConfig);\r\n\r\n\r\nconst db = getFirestore();\r\n\r\nexport { db }\r\n","import React from 'react';\r\n\r\nconst Login = (props) => {\r\n  const {\r\n    email,\r\n    setEmail,\r\n    password,\r\n    setPassword,\r\n    handleLogin,\r\n    handleSignup,\r\n    hasAccount,\r\n    setHasAccount,\r\n    emailError,\r\n    passwordError\r\n  } = props;\r\n\r\n  return (\r\n    <section className='login'>\r\n      <div className=\"loginContainer\">\r\n        <label > Username </label>\r\n        <input type=\"text\" autoFocus required value={email} onChange={e => setEmail(e.target.value)} />\r\n        <p className=\"errorMsg\"> {emailError} </p>\r\n        <label >Password</label>\r\n        <input type=\"password\" required value={password} onChange={e => setPassword(e.target.value)} />\r\n        <p className=\"errorMsg\"> {passwordError} </p>\r\n        <div className=\"btnContainer\">\r\n          {!hasAccount ? (\r\n            <>\r\n              <button className=\"loginButton\" onClick={handleLogin}>Sign in</button>\r\n              <p>Don't have an account ? <span onClick={() => setHasAccount(!hasAccount)}>Sign up</span></p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <button className=\"loginButton\" onClick={handleSignup}>Sign up</button>\r\n              <p>Have an account ? <span onClick={() => setHasAccount(!hasAccount)}>Sign in</span></p>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n    </section >\r\n  )\r\n}\r\n\r\nexport default Login;","import './App.css';\nimport React, { useEffect, useState } from 'react';\nimport TaskAdd from './TaskAdd';\nimport List from './List';\nimport { db } from './firebase';\nimport { collection, getDocs, addDoc, deleteDoc, doc, setDoc } from \"firebase/firestore\";\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut\n} from \"firebase/auth\";\nimport Login from './Login';\n\n\n\nconst App = (props) => {\n  const [user, setUser] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [hasAccount, setHasAccount] = useState(false);\n  const [items, setItems] = useState([]);\n  const [inputvalue, setInputValue] = useState('');\n  const [loaded, setLoaded] = useState(false);\n\n  const clearInputs = () => {\n    setEmail('');\n    setPassword('');\n  };\n\n  const clearErrors = () => {\n    setEmailError('');\n    setPasswordError('');\n  }\n  const handleLogin = () => {\n    clearErrors();\n    console.log(\"try login\");\n    const auth = getAuth();\n    signInWithEmailAndPassword(auth, email, password)\n      .then(userCredential => {\n        setUser(userCredential.user);\n        setDoc(db, userCredential.user.email);\n        console.log(userCredential.user.email);\n      })\n      .catch(err => {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n          case \"auth/wrong-password\":\n            setPasswordError(err.message);\n            break;\n          default:\n            break;\n        }\n      });\n  };\n\n  const handleSignup = () => {\n    clearErrors();\n    console.log(\"try sign up\");\n    const auth = getAuth();\n    createUserWithEmailAndPassword(auth, email, password)\n      .then(userCredential => {\n        setUser(userCredential.user);\n        setDoc(db, userCredential.user.email);\n        console.log(userCredential.user.email);\n      })\n      .catch(err => {\n        switch (err.code) {\n          case \"auth/email-alread-in-use\":\n          case \"auth/invalid-email\":\n            setEmailError(err.message);\n            break;\n          case \"auth/weak-password\":\n            setPasswordError(err.message);\n            break;\n          default:\n            break;\n        }\n      });\n  };\n\n  const handleLogout = () => {\n    const auth = getAuth();\n    signOut(auth);\n  }\n\n  const authLiistener = () => {\n    const auth = getAuth();\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        clearInputs();\n        setUser(user);\n      } else {\n        setUser(\"\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    authLiistener();\n  }, []);\n\n  const getAllData = async () => {\n    console.log(user.email);\n    if (user === \"\") {\n      return;\n    }\n    const items = [];\n    await getDocs(collection(db, user.email))\n      .then(docs => {\n        console.log(docs);\n        docs.forEach(doc => {\n          items.push({ id: doc.id, todo: doc.data().todo });\n        });\n        setItems(items);\n        setLoaded(true);\n        console.log(`getAllData success!!`);\n        console.log(items);\n      })\n  }\n\n  const deleteData = async (id) => {\n    await deleteDoc(doc(db, user.email, id));\n  }\n\n  const addData = async (todo) => {\n    try {\n      const docRef = await addDoc(collection(db, user.email), { todo: todo })\n        .then((docRef) => {\n          const newItems = [...items, { id: docRef.id, todo: inputvalue }];\n          setItems(newItems);\n          setInputValue('');\n          console.log(`Document written with (${docRef.id} : ${inputvalue})`);\n        });\n    } catch (e) {\n      console.error(\"Error adding document: \", e);\n    }\n  }\n\n  const getData = async () => {\n    await getDocs(collection(db, user.email))\n      .then(docs => {\n        console.log(`getData success`);\n      })\n  }\n  useEffect(() => {\n    getAllData();\n    console.log(\"Data loaded -useEffect\");\n  }, [user])\n\n  const onChangeHandler = (e) => {\n    setInputValue(e.target.value);\n  }\n\n  const onClickHandler = (e) => {\n    e.preventDefault();\n    addData(inputvalue);\n  };\n\n  const deleteHandler = (id) => {\n    deleteData(id)\n      .then(() => {\n        const newItems = items.filter((item) => {\n          return item.id !== id;\n        });\n        setItems(newItems);\n        console.log(`delete id:${id}!!`);\n      });\n  }\n\n  return (\n    <div className=\"container\" >\n      {!user ? (\n        <Login\n          email={email}\n          setEmail={setEmail}\n          password={password}\n          setPassword={setPassword}\n          handleLogin={handleLogin}\n          handleSignup={handleSignup}\n          hasAccount={hasAccount}\n          setHasAccount={setHasAccount}\n          emailError={emailError}\n          passwordError={passwordError}\n        />\n      ) : (\n        <div>\n          <section className=\"hero\">\n            <nav>\n              <h2> Welcome </h2>\n              <div>\n                <h4> {user.email} </h4>\n                <button onClick={handleLogout}>Logout</button>\n              </div>\n            </nav>\n            <TaskAdd\n              inputvalue={inputvalue}\n              onChangeHandler={onChangeHandler}\n              onClickHandler={onClickHandler}\n            />\n\n            <List\n              items={items}\n              deleteHandler={deleteHandler}\n            />\n          </section>\n        </div>\n      )}\n\n\n    </div>\n  );\n}\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}